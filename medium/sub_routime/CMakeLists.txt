cmake_minimum_required(VERSION 2.8)

# To include another cmake scripts.
include(included.cmake)

message("Function can view parent's variable scope, but changes made")
message("here DOES NOT effect parent runtine. Define FCT_NAME() here.")
set(fct_var invisible)
function(FCT_NAME arg1 arg2)
	set(fct_var visible)
	message("here is the function")
	message("\targ1 : " ${arg1})
	message("\targ2 : " ${arg2})
	message("\ttotal argument counts : " ${ARGC})
	foreach(opt_arg ${ARGN})
		message("\tadditional arguemnt : " ${opt_arg})
	endforeach()
endfunction(FCT_NAME)

message("Make a function call.")
FCT_NAME(apple orange)
message("\tfct_var is " ${fct_var})
message("")

message("Make a function call with optional arguments.")
FCT_NAME(apple orange apple banana)
message("")

message("Macro can view parent's variable scope, and variable assignment")
message("made here DOES effect parent runtine. Define MACRO_NAME() here.")
set(macro_var invisible)
macro(MACRO_NAME arg1 arg2)
	set(macro_var visible)
	message("here is the macro")
	message("\targ1 : " ${arg1})
	message("\targ2 : " ${arg2})
endmacro(MACRO_NAME)

message("Make a macro call")
MACRO_NAME(banana lemon)
message("\tmacro_var is " ${macro_var})
message("")
